"0","## Generating a layout for nodes on x,y using igraph"
"0","# L<-layout.circle(net) #deprecated"
"0","Layout_For_Nodes<-layout_(net, nicely())"
"0","CountryN_nodes<-data.table(as_data_frame(net, what = c(""vertices"")))"
"0","CountryN_edges<-data.table(as_data_frame(net, what = c(""edges"")))"
"0","#Combining the layout with extra attributes"
"0","Layout_For_Nodes<-data.frame(cbind(Layout_For_Nodes,CountryN_nodes))"
"0","setnames(Layout_For_Nodes, ""V1"", ""x.coor"") # data.table method to rename"
"0","setnames(Layout_For_Nodes, ""V2"", ""y.coor"") # data.table method to rename"
"0","# Create Nodes"
"0","network<- plot_ly(data=Layout_For_Nodes, type='scatter',x=~x.coor, y=~y.coor, "
"0","                  color=~centrality, size=~degree*10, mode=""markers"", text=~text, hoverinfo=""text"")"
"0","#  Edges ""to"" and ""from"""
"0","CountryN_edges$from<- as.integer(CountryN_edges$from)"
"0","CountryN_edges$to<- as.integer(CountryN_edges$to)"
"0","## Reindexing the Verices/nodes "
"0","CountryN_nodes$name<-as.integer(CountryN_nodes$name)"
"0","CountryN_nodes$IDN<-as.numeric(factor(CountryN_nodes$name))"
"0","# Merged/Mapped the IDN column into ""to"" and ""from"" column in edges."
"0","CountryN_edges<-CountryN_nodes[,.(name,IDN)][CountryN_edges, on = c(name= ""from"")] %>%"
"0","  CountryN_nodes[,.(name,IDN)][.,  on = c(name= ""to"")]"
"0","# Dropping unnecessary columns and renaming "
"0","CountryN_edges$name<-NULL"
"0","CountryN_edges$i.name<-NULL"
"0","colnames(CountryN_edges)[1]<- ""from"""
"0","colnames(CountryN_edges)[2]<- ""to"""
"0","# Creating Edges"
"0","edge_shapes<- list()"
"0","for(i in 1:nrow(CountryN_edges)){"
"0","  v0<-CountryN_edges[i,]$from"
"0","  v1<-CountryN_edges[i,]$to"
"0","  "
"0","  edge_shape=list("
"0","    type=""line"","
"0","    line=list(color=""#030303"", width=0.3),"
"0","    x0=Layout_For_Nodes$x.coor[[v0]],"
"0","    y0=Layout_For_Nodes$y.coor[[v0]],"
"0","    x1=Layout_For_Nodes$x.coor[[v1]],"
"0","    y1=Layout_For_Nodes$y.coor[[v1]]"
"0","  )"
"0","  edge_shapes[[i]]<-edge_shape"
"0","}"
"0","axis<-list(title="""", showgrid=FALSE, showticklabels=FALSE, zeroline=FALSE)"
"0","p<-layout(network,"
"0","          title=""Plotly Network"","
"0","          shapes=edge_shapes,"
"0","          xaxis=axis,"
"0","          yaxis=axis"
"0","          )"
"0","p"
