"0","# http://www.r-graph-gallery.com/253-custom-network-chart-networkd3/"
"0","## Suggested method of reindexing the id, probably only works if your id is continously"
"0","# vis_node$id=as.numeric(as.factor(vis_node$id))-1"
"0","## Reindexing the nodes as d3 network/javascript are zero index"
"0","#Create a zero index column IDN"
"0","vis_node$IDN=as.numeric(factor(vis_node$id))-1"
"0","# Merged/Mapped the IDN column into ""to"" and ""from"" column in edges."
"0","vis_edge_d3<-vis_node[,.(id,IDN)][vis_edge, on = c(id= ""from"")] %>%"
"0","  vis_node[,.(id,IDN)][.,  on = c(id= ""to"")]"
"0","# Dropping unnecessary columns and renaming "
"0","vis_edge_d3$id<-NULL"
"0","vis_edge_d3$i.id<-NULL"
"0","colnames(vis_edge_d3)[1]<- ""from"""
"0","colnames(vis_edge_d3)[2]<- ""to"""
"0","framed3<-forceNetwork(Links = vis_edge_d3, Nodes = vis_node,"
"0","             # plotting parameters"
"0","             Source=""from"", Target=""to"", Value = ""width"","
"0","             Group = ""color.background"", NodeID=""countries"","
"0","             # Nodesize=6,"
"0","             opacity = 0.8,"
"0","             opacityNoHover = 0.4,"
"0","             radiusCalculation = JS("" d.nodesize^2+10""),"
"0","             linkColour = ""#afafaf"","
"0","             linkWidth = JS(""function(d) { return Math.sqrt(d.value); }""),"
"0","             # layout"
"0","             charge = -250,  # if highly negative, more space betqeen nodes"
"0","             # general parameters"
"0","             arrows=TRUE,"
"0","             fontSize=17,"
"0","             zoom = TRUE,"
"0","             legend=F,"
"0","             width = NULL,"
"0","             height = NULL"
"0",")"
"0","frameWidget(framed3)"
